<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Benvenuto su R3cap</title>
    <link rel="stylesheet" th:href="@{/css/index.css}" />
</head>
<body>

    <!-- Profilo utente in alto a destra (solo se loggato) -->
    <div class="user-profile" th:if="${utente != null}">
        <a th:href="@{/profile}">
            <!-- Se l'utente ha un'immagine di profilo, la mostriamo -->
            <img th:src="@{${utente.immagineProfilo} != null ? ${utente.immagineProfilo} : '/media/default-profile.png'}" alt="Profilo" class="profile-pic" />
            <div class="user-name">
                <div class="user-first-name" th:text="${utente.nome}"></div>
                <div class="user-last-name" th:text="${utente.cognome}"></div>
            </div>
        </a>

        <!-- Pulsante Logout -->
        <form th:action="@{/logout}" method="post" class="logout-form">
            <button type="submit" class="logout-button">Logout</button>
        </form>
    </div>

    <!-- Titolo -->
    <h1>
        Benvenuto su
        <img th:src="@{/media/logo.png}" alt="Logo R3cap" style="height: 200px;" />
    </h1>

    <!-- Corso di studi (solo se loggato) -->
    <p th:if="${utente != null}" th:text="'Il tuo corso di studi: ' + ${corsoDiStudi}" style="font-size: 1.2em; margin-top: -20px;"></p>

    <!-- Messaggio e pulsanti per utenti non loggati -->
    <div th:if="${utente == null}" class="access-warning">
        <p>Per consultare e caricare appunti su R3cap Ã¨ necessario accedere</p>
        <div class="auth-buttons">
            <a th:href="@{/register}" class="btn-auth">Registrati</a>
            <a th:href="@{/login}" class="btn-auth">Accedi</a>
        </div>
    </div>

</body>
</html>
